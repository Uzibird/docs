# Python类的特殊方法
## 概述

> python类中的一些特殊方法,如repr,del,,getattr,call等。 类中各方法的实现原理。对方法的修改以及调用。

## 常见的特殊方法

>- \__\__repr____
```python
    # cls是一个类，是内存中的一个对象，而print只能输出字符串，所以有cls.__repr__
    print(cls) == print(cls.__repr__)

```
>- \_\_del__  用于销毁Python对象，在任何Python对象将要被系统回收之时，系统都会自动调用该对象的 \_\_del__ 方法
            

  
```python
    #只有当系统中无变量引用时，系统才会调用del方法销毁
    class Item:
    def __init__ (self, name, price):
        self.name = name
        self.price = price
    # 定义析构函数
    def __del__ (self):
        print('del删除对象')
    # 创建一个Item对象，将之赋给im变量
    im = Item('鼠标', 29.8)
    x = im   # ①
    # 打印im所引用的Item对象
    del im
    print('--------------')

#输出如下
    # 因为 x 依然在调用 所以兵没有直接销毁，等执行完成后才进行销毁。
    -----------------
    del 删除对象
```
>- \_\_dir__ 用于列出该对象内部的所有属性（包括方法）名，返回一个序列。

>- \_\_dict__属性 查看对象内部存储的所有属性名和属性值组成的字典
    
    可直接调用该方法查看，也可用字典语法来访问或修改指定属性的值。

>- \_\_getattr__ ,\_\_setattr__      p178

    当程序操作（包括访问 设置 删除）对象的属性时，Python调用此方法
    
- \_\_getattributte__(self,name) 当程序访问对象的name属性时候调用
- \_\_getattr__(self,name) 当程序访问对象的name属性且该属性不存在时被调用
- \_\_setattr__(self,name,value) 当程序对对象的name赋值时被调用
- \_\_delattr__(self,name) 当程序删除对象的name属性时调用

Python提供的各种方法与类只是语法上的实现，在深入了解后，这些东西都是可改变的，灵活性极高。

## 与反射相关的属性和方法

### 动态操作属性
- hasattr(obj,name) 检查obj对象是否包含名为 name 的属性或方法
- getattr(obj,name[, default]) 获取obj对象中名为 name 的属性的属性值
- setattr(obj,name,value,/) 将obj对象的name属性设为value

### \_\_call__ 属性
    
用hasattr函数判断属性或方法是否存在，但要区分是属性还是方法，则需要进一步判断是否可以调用。
        
    __可通过判断是否包含__cal__属性来确定是否可调用__
    